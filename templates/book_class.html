{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block additional_styles %}
<style>
  body {
    background-image: none;
  }
</style>
{% endblock %}

{% block content %}
<div class="row p-3">
  <div class="col-3 d-inline align-self-end">
    <h2 class="d-inline">Book Your Class:</h2>
  </div>
  <div class="col-3 d-inline ">
    <form method="post" class="d-inline">
      {{ form | crispy }}
      {% csrf_token %}
  </div>
  <div class="col-3 d-inline align-self-end">
    <button type="submit" class="btn btn-signup btn-lg d-inline pb-0">Book Your Spot!</button>
    </form>
  </div>
</div>

{% for message in messages %}
<div class="alert {{ message.tags }} fixed-top alert-dismissable fade show" role="alert">
  {{ message | safe }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}

{% for yoga_class in yoga_classes %}
<div class="row d-none">
  <div class="col-8 offset-2">
    <p class="class_title">{{ yoga_class.yoga_type }}</p>
    <p class="class_id">{{ yoga_class.id }}</p>
    <p class="day">{{ yoga_class.day|date:"l, d M" }}</p>
    <p class="time">{{ yoga_class.time }}</p>
    <p>{{ yoga_class.available_spaces }}</p>
  </div>
</div>
{% endfor %}

<div class="row">
  <div class="p-3">
    <table class="w-auto table table-bordered table-hover table-responsive">
      <thead>
        <tr class="cols">
          <th scope="col"></th>
          {% for days in week_days %}
          <th class="day{{ forloop.counter }}" scope="col">{{ days|date:"l, d M" }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for time_slot in time_slots %}
        <tr class="rows">
          <th scope="row">{{ time_slot }}</th>
          {% for days in week_days %}
          <td class="day{{ forloop.counter }}"></td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}